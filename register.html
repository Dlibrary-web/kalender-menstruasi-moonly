<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Register - Cek Jadwal Haid</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #ffe6f0;
      color: #333;
    }
    .container {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }
    .card {
      background: #fff;
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      width: 90%;
      max-width: 400px;
      text-align: center;
    }
    h2 {
      margin-bottom: 20px;
      color: #e75480;
    }
    input, select, button {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      border: 1px solid #ccc;
      border-radius: 10px;
      font-size: 16px;
    }
    button {
      background-color: #e75480;
      color: #fff;
      border: none;
      cursor: pointer;
    }
    button:hover {
      background-color: #d13c67;
    }
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Step 1 -->
    <div class="card" id="step1">
      <h2>Register</h2>
      <input type="text" id="nama" placeholder="Nama" required>
      <input type="email" id="email" placeholder="Email" required>
      <input type="password" id="password" placeholder="Password" required>
      <button onclick="saveStep1()">Lanjut</button>
    </div>

    <!-- Step 2 -->
    <div class="card hidden" id="step2">
      <h2>Berapa Usia Anda?</h2>
      <input type="number" id="usia" placeholder="Masukkan usia" required>
      <button onclick="saveStep2()">Lanjut</button>
    </div>

    <!-- Step 3: Haid 2 Periode Sebelumnya -->
    <div class="card hidden" id="step3">
      <h2>Haid 2 Periode Sebelumnya</h2>
      <label>Tanggal Mulai:</label>
      <input type="date" id="haid2Mulai">
      <label>Tanggal Berakhir:</label>
      <input type="date" id="haid2Akhir">
      <button onclick="skipHaid2()">Saya tidak ingat</button>
      <button onclick="saveStep3()">Lanjut</button>
    </div>

    <!-- Step 4: Haid Periode Sebelumnya -->
    <div class="card hidden" id="step4">
      <h2>Haid Periode Sebelumnya</h2>
      <label>Tanggal Mulai:</label>
      <input type="date" id="haid1Mulai">
      <label>Tanggal Berakhir:</label>
      <input type="date" id="haid1Akhir">
      <button onclick="skipHaid1()">Saya tidak ingat</button>
      <button onclick="saveStep4()">Lanjut</button>
    </div>

    <!-- Step 5: Status Menikah -->
    <div class="card hidden" id="step5">
      <h2>Apakah Anda sudah menikah?</h2>
      <select id="statusNikah">
        <option value="">Pilih</option>
        <option value="Sudah">Sudah</option>
        <option value="Belum">Belum</option>
      </select>
      <button onclick="saveStep5()">Selesai</button>
    </div>

    <div class="card hidden" id="done">
      <h2>Registrasi Berhasil!</h2>
      <p>Data Anda telah disimpan.</p>
    </div>
  </div>

  <script>
    let dataPengguna = {};

    function saveStep1() {
      const nama = document.getElementById('nama').value;
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;

      if (!nama || !email || !password) {
        alert('Harap isi semua data');
        return;
      }

      localStorage.setItem('users', JSON.stringify({ nama, email, password }));

      document.getElementById('step1').classList.add('hidden');
      document.getElementById('step2').classList.remove('hidden');
    }

    function saveStep2() {
      const usia = document.getElementById('usia').value;
      if (!usia) {
        alert('Isi usia terlebih dahulu');
        return;
      }
      dataPengguna.usia = usia;

      document.getElementById('step2').classList.add('hidden');
      document.getElementById('step3').classList.remove('hidden');
    }

    function saveStep3() {
      const mulai = document.getElementById('haid2Mulai').value;
      const akhir = document.getElementById('haid2Akhir').value;
      if (!mulai || !akhir) {
        alert('Isi tanggal mulai dan berakhir, atau klik tidak ingat');
        return;
      }
      dataPengguna.haid2 = { mulai, akhir };

      document.getElementById('step3').classList.add('hidden');
      document.getElementById('step4').classList.remove('hidden');
    }

    function skipHaid2() {
      dataPengguna.haid2 = 'Tidak ingat';
      document.getElementById('step3').classList.add('hidden');
      document.getElementById('step4').classList.remove('hidden');
    }

    function saveStep4() {
      const mulai = document.getElementById('haid1Mulai').value;
      const akhir = document.getElementById('haid1Akhir').value;
      if (!mulai || !akhir) {
        alert('Isi tanggal mulai dan berakhir, atau klik tidak ingat');
        return;
      }
      dataPengguna.haid1 = { mulai, akhir };

      document.getElementById('step4').classList.add('hidden');
      document.getElementById('step5').classList.remove('hidden');
    }

    function skipHaid1() {
      dataPengguna.haid1 = 'Tidak ingat';
      document.getElementById('step4').classList.add('hidden');
      document.getElementById('step5').classList.remove('hidden');
    }

    function saveStep5() {
      const status = document.getElementById('statusNikah').value;
      if (!status) {
        alert('Pilih status pernikahan');
        return;
      }
      dataPengguna.statusNikah = status;

      localStorage.setItem('datapengguna', JSON.stringify(dataPengguna));

      document.getElementById('step5').classList.add('hidden');
      document.getElementById('done').classList.remove('hidden');

      // Arahkan ke login.html setelah selesai
      setTimeout(() => {
        window.location.href = "login.html";
      }, 1500);
    }
  </script>
</body>
</html>